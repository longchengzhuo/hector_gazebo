<mujoco model="hector_v1p5">
  <compiler angle="radian" meshdir="./meshes/"/>
  
  <!-- for smaller timestep -->
  <option timestep='0.001'/>
  
  <!-- for hardground -->
  <!-- <option timestep='0.001' o_solref='-100000 -1000' iterations="1" ls_iterations="5">
		<flag eulerdamp="disable"/>
	</option> -->
  
  <!-- for mjx -->
  <!-- <option timestep='0.01' iterations="1" ls_iterations="5">
		<flag eulerdamp="disable"/>
	</option> -->

  <default>
    <default class="a1_actuator">
      <general biastype="affine" gainprm="0.0 0 0 0 0 0 0 0 0 0" biasprm="0 0.0 0.0 0 0 0 0 0 0 0" forcerange="-33.5 33.5"/>
    </default>
    <default class="imu">
      <site type="box" size="0.01 0.008 0.0015" rgba="1 0 0 0" />
    </default>
    <default class="visual">
      <geom group="2" type="mesh" contype="0" conaffinity="0" density="0"/>
    </default>
    <default class="collision">
      <geom group="1" type="mesh" />
    </default>
  </default>
  <asset>
    <mesh name="torso" file="base.obj"/>
    <mesh name="l_calf" file="l_calf.obj"/>
    <mesh name="l_hip1" file="l_hip1.obj"/>
    <mesh name="l_hip2" file="l_hip2.obj"/>
    <mesh name="l_thigh" file="l_thigh.obj"/>
    <mesh name="l_toe" file="foot_shoe.stl"/>
    <mesh name="r_calf" file="r_calf.obj"/>
    <mesh name="r_hip1" file="r_hip1.obj"/>
    <mesh name="r_hip2" file="r_hip2.obj"/>
    <mesh name="r_thigh" file="r_thigh.obj"/>
    <mesh name="r_toe" file="r_toe.obj"/>

    <material name="black" rgba="0.25 0.25 0.25 1" />
    <material name="silver" rgba="0.75 0.75 0.75 1" />
    <material name="transparent" rgba="0 0 0 0" />
    
    <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072" />
    <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" markrgb="0.8 0.8 0.8" width="300" height="300" />
    <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.5" />
  
  </asset>
  <visual>
		  <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0" />
		  <rgba haze="0.15 0.25 0.35 1" />
	    <global offheight="2160" offwidth="3840"/>
    	<quality offsamples="8"/>
	</visual>
  <worldbody>
    
    <light name="spotlight0" mode="targetbodycom" target="torso" pos="0 0 10" cutoff="60" />
		<light name="spotlight1" mode="targetbodycom" target="torso" pos="0.5 0 10" cutoff="60" />
		<geom name="floor" size="0 0 .125" type="plane" material="groundplane" conaffinity="15" condim="3" />
    <camera name="track" pos="1.958 -2.348 1.0" xyaxes="0.768 0.641 0.000 -0.101 0.122 0.987" />
    <!-- <camera name="track" pos="1.2 -3.2 0.88" xyaxes="0.768 0.641 0.000 -0.101 0.122 0.987" /> -->
   
    <body name="torso" pos="0 0 0.85">
      <freejoint name="root" />
			<site name="root" class="imu"/>

      <!-- from v1p5 descryption  -->
			<!-- <inertial pos="0.0 0.0 0.0" mass="4.87" diaginertia="0.052  0.0441 0.0184" /> -->
      <!-- from menejerie  -->
			<inertial pos="0.0 0.0 0.0" mass="4.87" diaginertia="0.0456542  0.0377999 0.0158533" />

      <geom class="visual" mesh="torso" material="black"/>
      <geom class="collision" mesh="torso" material="black"/>

      <body name="l_hip1" pos="0 0.047 -0.1265">
				
        <joint name="l_hip_yaw" pos="0 0 0" axis="0 0 1" limited="true" range="-0.785398 0.785398" damping="1.0"  armature="0.01" frictionloss="0.2" />
        
        <inertial pos="0.05147 0.01453 -0.06160"  mass="0.77833" diaginertia="0.00122 0.00111 0.00081" />
        <geom class="visual" mesh="l_hip1" material="black"/>
        <geom class="collision" mesh="l_hip1" material="black"/>

        <body name="l_hip2" pos="0.0465 0.015 -0.0705">
          <joint name="l_hip_roll" pos="0 0 0" axis="1 0 0" limited="true" range="-0.785398 0.785398" damping="1.0"  armature="0.01" frictionloss="0.2" />
          <inertial pos="-0.05690 -0.00009 0.00023"  mass="0.67724" diaginertia="0.00053 0.00087 0.00061" />
          <geom class="visual" mesh="l_hip2" material="black"/>
          <geom class="collision" mesh="l_hip2" material="black"/>
          <body name="l_thigh" pos="-0.06 0.018 0" quat="1 0 0 0">
            <joint name="l_hip_pitch" pos="0 0 0" axis="0 1 0" limited="true" range="-3.14 3.14" damping="1.0"  armature="0.01" frictionloss="0.2" />
						
            <inertial pos="-0.000398 0.04438 -0.05736"  mass="1.73719" diaginertia="0.00765 0.00790 0.00175" />
            <geom class="visual" mesh="l_thigh" material="silver"/>
            <geom class="collision" mesh="l_thigh" material="silver"/>

            <body name="l_calf" pos="0 0.018 -0.22" quat="1 0 0 0">
              <joint name="l_knee" pos="0 0 0" axis="0 1 0" limited="true" range="-3.14 3.14" damping="1.0"  armature="0.01" frictionloss="0.2" />
							
              <inertial pos="0.00204 0.0 -0.07668" mass="0.14647" diaginertia="0.00074 0.00075 0.00002" />
              <geom pos="0 0.01743 0" class="visual" mesh="l_calf" material="silver"/>
              <geom pos="0 0.01743 0" class="collision" mesh="l_calf" material="silver"/>

              <body name="l_toe" pos="0 0 -0.22" >
                <joint name="l_ankle" pos="0 0 0" axis="0 1 0" limited="true" range="-3.14 3.14" damping="1.0"  armature="0.01" frictionloss="0.2" />
							
                <inertial pos="0.00251 0.00003 -0.02269" mass="0.08592" diaginertia="0.00001 0.00012 0.00011" /> 
                <geom class="visual" mesh="l_toe" material="silver"/>
                <geom class="collision" mesh="l_toe" material="silver"/>

              </body>
            </body>
          </body>
        </body>
      </body>
      <body name="r_hip1" pos="0 -0.047 -0.1265">
        <joint name="r_hip_yaw" pos="0 0 0" axis="0 0 1" limited="true" range="-0.785398 0.785398" damping="1.0"  armature="0.01" frictionloss="0.2" />
				
        <inertial pos="0.05147 -0.01453 -0.06160"  mass="0.77833" diaginertia="0.00122 0.00111 0.00081" />
        <geom class="visual" mesh="r_hip1" material="black"/>
        <geom class="collision" mesh="r_hip1" material="black"/>
        
        <body name="r_hip2" pos="0.0465 -0.015 -0.0705">
          <joint name="r_hip_roll" pos="0 0 0" axis="1 0 0" limited="true" range="-0.785398 0.785398" damping="1.0"  armature="0.01" frictionloss="0.2" />
					
          <inertial pos="-0.05690 0.00009 0.00023"  mass="0.67724" diaginertia="0.00053 0.00087 0.00061" />
          <geom class="visual" mesh="r_hip2" material="black"/>
          <geom class="collision" mesh="r_hip2" material="black"/>
          
          <body name="r_thigh" pos="-0.06 -0.018 0" quat="1 0 0 0">
            <joint name="r_hip_pitch" pos="0 0 0" axis="0 1 0" limited="true" range="-3.14 3.14" damping="1.0"  armature="0.01" frictionloss="0.2" />
          	
            <inertial pos="-0.000398 -0.04438 -0.05736"  mass="1.73719" diaginertia="0.00765 0.00790 0.00175" />
            <geom class="visual" mesh="r_thigh" material="silver"/>
            <geom class="collision" mesh="r_thigh" material="silver"/>
            
            <body name="r_calf" pos="0 -0.018 -0.22" quat="1 0 0 0">
              <joint name="r_knee" pos="0 0 0" axis="0 1 0" limited="true" range="-3.14 3.14" damping="1.0"  armature="0.01" frictionloss="0.2" />
							
               <inertial pos="0.00204 0.0 -0.07668" mass="0.14647" diaginertia="0.00074 0.00075 0.00002" />
              <geom pos="0 0.01743 0" class="visual" mesh="r_calf" material="silver"/>
              <geom pos="0 0.01743 0" class="collision" mesh="r_calf" material="silver"/>

              <body name="r_toe" pos="0 0 -0.22" >
                <joint name="r_ankle" pos="0 0 0" axis="0 1 0" limited="true" range="-3.14 3.14" damping="1.0"  armature="0.01" frictionloss="0.2" />
							
                <inertial pos="0.00251 0.00003 -0.02269" mass="0.08592" diaginertia="0.00001 0.00012 0.00011" /> 
                <geom class="visual" mesh="l_toe" material="silver"/>
                <geom class="collision" mesh="l_toe" material="silver"/>
                
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

    <actuator>
    <!-- < for hybrid control in code > -->
		<general class="a1_actuator" name="l_hip_yaw" joint="l_hip_yaw"  />
		<general class="a1_actuator" name="l_hip_roll" joint="l_hip_roll"  />
		<general class="a1_actuator" name="l_hip_pitch" joint="l_hip_pitch" />
		<general class="a1_actuator" name="l_knee" joint="l_knee" forcerange="-67.0 67.0"   />
		<general class="a1_actuator" name="l_ankle" joint="l_ankle"  /> 

		<general class="a1_actuator" name="r_hip_yaw" joint="r_hip_yaw"  />
		<general class="a1_actuator" name="r_hip_roll" joint="r_hip_roll" />
		<general class="a1_actuator" name="r_hip_pitch" joint="r_hip_pitch"  />
		<general class="a1_actuator" name="r_knee" joint="r_knee" forcerange="-67.0 67.0"   />
		<general class="a1_actuator" name="r_ankle" joint="r_ankle" /> 


	</actuator>	

  <sensor>
    <framequat name="torso_quat" objtype="site" objname="root"/>
    <framepos name="torso_pos" objtype="site" objname="root"/>
    <framelinvel name="torso_linvel" objtype="site" objname="root"/>

		<accelerometer name="torso_acc" site="root"/>
		<velocimeter name="torso_vel" site="root"/>
		<gyro name="torso_gyr" site="root"/>

		<!-- motor encoders -->
		<actuatorpos name="l_hip_yaw_pos" actuator="l_hip_yaw"/>
		<actuatorpos name="l_hip_roll_pos" actuator="l_hip_roll"/>
		<actuatorpos name="l_hip_pitch_pos" actuator="l_hip_pitch"/>
		<actuatorpos name="l_knee_pos" actuator="l_knee"/>
		<actuatorpos name="l_ankle_pos" actuator="l_ankle"/>

		<actuatorpos name="r_hip_yaw_pos" actuator="r_hip_yaw"/>
		<actuatorpos name="r_hip_roll_pos" actuator="r_hip_roll"/>
		<actuatorpos name="r_hip_pitch_pos" actuator="r_hip_pitch"/>
		<actuatorpos name="r_knee_pos" actuator="r_knee"/>
		<actuatorpos name="r_ankle_pos" actuator="r_ankle"/>

		<actuatorvel name="l_hip_yaw_vel" actuator="l_hip_yaw"/>
		<actuatorvel name="l_hip_roll_vel" actuator="l_hip_roll"/>
		<actuatorvel name="l_hip_pitch_vel" actuator="l_hip_pitch"/>
		<actuatorvel name="l_knee_vel" actuator="l_knee"/>
		<actuatorvel name="l_ankle_vel" actuator="l_ankle"/>

		<actuatorvel name="r_hip_yaw_vel" actuator="r_hip_yaw"/>
		<actuatorvel name="r_hip_roll_vel" actuator="r_hip_roll"/>
		<actuatorvel name="r_hip_pitch_vel" actuator="r_hip_pitch"/>
		<actuatorvel name="r_knee_vel" actuator="r_knee"/>
		<actuatorvel name="r_ankle_vel" actuator="r_ankle"/>

		<actuatorfrc name="l_hip_yaw_frc" actuator="l_hip_yaw"/>
		<actuatorfrc name="l_hip_roll_frc" actuator="l_hip_roll"/>
		<actuatorfrc name="l_hip_pitch_frc" actuator="l_hip_pitch"/>
		<actuatorfrc name="l_knee_frc" actuator="l_knee"/>
		<actuatorfrc name="l_ankle_frc" actuator="l_ankle"/>

		<actuatorfrc name="r_hip_yaw_frc" actuator="r_hip_yaw"/>
		<actuatorfrc name="r_hip_roll_frc" actuator="r_hip_roll"/>
		<actuatorfrc name="r_hip_pitch_frc" actuator="r_hip_pitch"/>
		<actuatorfrc name="r_knee_frc" actuator="r_knee"/>
		<actuatorfrc name="r_ankle_frc" actuator="r_ankle"/>
	</sensor>



	<equality>
		<weld name="world_root" active="false" body1="torso" relpose="0 0 -0.85 1 0 0 0"/> 
	</equality>

	<contact>
		<exclude body1="l_thigh" body2="l_hip1" />
		<exclude body1="r_thigh" body2="r_hip1" />
	</contact> 
  
  <keyframe>
    <key name="home" qpos='0 0 0.55 
                           1 0 0 0 
                           0 0 0.7848373651504517 -1.571472287 0.7848373651504517 
                           0 0 0.7848373651504517 -1.571472287 0.7848373651504517' 
    />
  </keyframe>

</mujoco>
