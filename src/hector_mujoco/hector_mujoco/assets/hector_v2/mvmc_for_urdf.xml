<mujoco model="hector_v2">
  <compiler angle="radian"  meshdir="./meshes/"/>
  <option timestep='0.001' o_solref='-100000 -1000' >
		<flag override='enable' />
	</option>

  <default>
    <default class="a1_actuator">
      <general biastype="affine" gainprm="0.0 0 0 0 0 0 0 0 0 0" biasprm="0 0.0 0.0 0 0 0 0 0 0 0" forcerange="-33.5 33.5"/>
    </default>

    <default class="robstride_01_actuator">
      <general biastype="affine" gainprm="0.0 0 0 0 0 0 0 0 0 0" biasprm="0 0.0 0.0 0 0 0 0 0 0 0" forcerange="-17.0 17.0"/>
    </default>

    <default class="imu">
      <site type="box" size="0.01 0.008 0.0015" rgba="1 0 0 0" />
    </default>
    <default >
      <geom group="2" type="mesh" contype="0" conaffinity="0" density="0"/>
    </default>
    <default >
      <geom group="1" type="mesh" />
    </default>
  </default>

  <asset>
    <mesh name="torso" file="torso.stl"/>
    <mesh name="l_hip1" file="l_hip1.stl"/>
    <mesh name="l_hip2" file="l_hip2.stl"/>
    <mesh name="l_thigh" file="l_thigh.stl"/>
    <mesh name="calf" file="calf.stl"/>
    <mesh name="foot" file="foot_original.stl"/>
    <mesh name="r_hip1" file="r_hip1.stl"/>
    <mesh name="r_hip2" file="r_hip2.stl"/>
    <mesh name="r_thigh" file="r_thigh.stl"/>

    <mesh name="r_shoulder1" file="r_shoulder1.stl"/>
    <mesh name="r_shoulder2" file="r_shoulder2.stl"/>
    <mesh name="r_upper_arm" file="r_upper_arm.stl"/>
    
    <mesh name="lower_arm" file="lower_arm.stl"/>

    <mesh name="l_shoulder1" file="l_shoulder1.stl"/>
    <mesh name="l_shoulder2" file="l_shoulder2.stl"/>
    <mesh name="l_upper_arm" file="l_upper_arm.stl"/>


    <material name="black" rgba="0.25 0.25 0.25 1" />
    <material name="silver" rgba="0.75 0.75 0.75 1" />
    <material name="space_gray" rgba="0.4 0.4 0.4 1" />
    <material name="transparent" rgba="0 0 0 0" />
  
    <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072" />
    <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" markrgb="0.8 0.8 0.8" width="300" height="300" />
    <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.5" />

  
  </asset>


  <visual>
		  <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0" />
		  <rgba haze="0.15 0.25 0.35 1" />
	    <global offheight="2160" offwidth="3840"/>
    	<quality offsamples="8"/>
	</visual>

  <worldbody>

    <body name="torso" pos="0 0 0.6" >
     
      <!-- <freejoint name="root" /> -->
      <site name="root" class="imu"/>

      <inertial pos="0.0 0.0 0.0" mass="4.98" fullinertia="0.048637  0.04267 0.023157 0.000154 0.000534 0.0" />
      <geom type="mesh" mesh="torso" material="space_gray"/>



      <body name="l_hip1" pos="0 0.047 -0.1265">
        <joint type="hinge" name="l_hip_yaw" pos="0 0 0" axis="0 0 1" range="-0.523599 0.523599" actuatorfrcrange="-33.5 33.5" damping="0.1"/>
        
        <inertial pos="0.05147 0.01453 -0.06160"  mass="0.77833" diaginertia="0.00122 0.00111 0.00081" />
        <geom type="mesh" mesh="l_hip1" material="black"/>

        <body name="l_hip2" pos="0.0465 0.015 -0.0705">
          
          <joint type="hinge" name="l_hip_roll" pos="0 0 0" axis="1 0 0" range="-0.523599 0.523599" actuatorfrcrange="-33.5 33.5" damping="0.1"/>
          
          <inertial pos="-0.05690 -0.00009 0.00023"  mass="0.67724" diaginertia="0.00053 0.00087 0.00061" />
          <geom  type="mesh" mesh="l_hip2" material="black"/>
          
          <body name="l_thigh" pos="-0.06 0.018 0">
            
            <joint type="hinge" name="l_hip_pitch" pos="0 0 0" axis="0 1 0" range="-3.14 3.14" actuatorfrcrange="-33.5 33.5"/>
            
            <inertial pos="0 0.0495479 -0.0538811" quat="0.706819 -0.0201552 0.0201552 0.706819" mass="1.558" diaginertia="0.00641282 0.00621905 0.00163248"/>
            <geom  type="mesh" mesh="l_thigh" material="black"/>
            
            <body name="l_calf" pos="0 0.0142 -0.22">
              
              <joint type="hinge" name="l_knee" pos="0 0 0" axis="0 1 0" range="-3.14 3.14" actuatorfrcrange="-67 67"/>
              
              <inertial pos="0.00204 0 -0.077" quat="0.707107 0 0 0.707107" mass="0.146" diaginertia="0.00075 0.00074 2e-05"/>
              <geom type="mesh" mesh="calf" material="black"/>
              
              <body name="l_toe" pos="0 0 -0.22">
              
                <joint type="hinge" name="l_ankle" pos="0 0 0" axis="0 1 0" range="-1.4 1.4" actuatorfrcrange="-33.5 33.5"/>
                <inertial pos="0.00246 0.00003 -0.02248" mass="0.08440" diaginertia="0.00001 0.00011 0.00010" /> 
                <geom  type="mesh" mesh="foot" material="black"/>
              
              </body>
            </body>
          </body>
        </body>
      </body>
      
      <body name="r_hip1" pos="0 -0.047 -0.1265">
      
        <joint type="hinge" name="r_hip_yaw" pos="0 0 0" axis="0 0 1" range="-0.523599 0.523599" actuatorfrcrange="-33.5 33.5" damping="0.1"/>        
        <inertial pos="0.05147 -0.01453 -0.06160"  mass="0.77833" diaginertia="0.00122 0.00111 0.00081" />
        <geom type="mesh" mesh="r_hip1" material="black"/>
      
        <body name="r_hip2" pos="0.0465 -0.015 -0.0705">
          
          <joint type="hinge" name="r_hip_roll" pos="0 0 0" axis="1 0 0" range="-0.523599 0.523599" actuatorfrcrange="-33.5 33.5" damping="0.1"/>
          <inertial pos="-0.05690 0.00009 0.00023"  mass="0.67724" diaginertia="0.00053 0.00087 0.00061" />
          <geom  type="mesh" mesh="r_hip2" material="black"/>

          <body name="r_thigh" pos="-0.06 -0.018 0">
            
            <joint type="hinge" name="r_hip_pitch" pos="0 0 0" axis="0 1 0" range="-3.14 3.14" actuatorfrcrange="-33.5 33.5"/>
            <inertial pos="0 -0.0495479 -0.0534307" quat="0.706808 0.0205429 -0.0205429 0.706808" mass="1.558" diaginertia="0.0064221 0.00622769 0.00163184"/>
            <geom  type="mesh" mesh="r_thigh" material="black"/>

            <body name="r_calf" pos="0 -0.0142 -0.22">
              
              <joint type="hinge" name="r_knee" pos="0 0 0" axis="0 1 0" range="-3.14 3.14" actuatorfrcrange="-67 67"/>
              <inertial pos="0.00204 0 -0.077" quat="0.707107 0 0 0.707107" mass="0.146" diaginertia="0.00075 0.00074 2e-05"/>
              <geom  type="mesh" mesh="calf" material="black"/>
              
              <body name="r_toe" pos="0 0 -0.22">
                <joint type="hinge" name="r_ankle" pos="0 0 0" axis="0 1 0" range="-1.4 1.4" actuatorfrcrange="-33.5 33.5"/>
                <inertial pos="0.00246 -0.00003 -0.02248" mass="0.08440" diaginertia="0.00001 0.00011 0.00010" />  
                <geom  type="mesh" mesh="foot" material="black"/>

              </body>
            </body>
          </body>
        </body>
      </body>


      <body name="l_shoudler1" pos="0 0.053 0.124">
        
        <joint type="hinge" name="l_shoulder_yaw" pos="0 0 0" axis="0 0 1" range="-1.4 1.4" actuatorfrcrange="-17 17" damping="0.1"/>
        <inertial pos="0.00071 0.02838 0.04835" quat="0.707107 0 0 0.707107" mass="0.4356" diaginertia="0.00043 0.00035 0.00027"/>
        <geom type="mesh" mesh="l_shoulder1" material="black"/>

        <body name="l_shoulder2" pos="0 0.049 0.053">
          
          <joint type="hinge" name="l_shoulder_pitch" pos="0 0 0" axis="0 1 0" range="-3.14 1.5708" actuatorfrcrange="-17 17" damping="0.1"/>
          <inertial pos="-0.0294 0.04541 0.00089" quat="0.705607 0.705607 0.0460358 0.0460358" mass="0.432" diaginertia="0.000422621 0.00033 0.000267379"/>
          <geom type="mesh" mesh="l_shoulder2" material="black"/>
          
          <body name="l_upper_arm" pos="-0.011 0.0457 0">
            
            <joint type="hinge" name="l_shoulder_roll" pos="0 0 0" axis="-1 0 0" range="-1.4 1.4" actuatorfrcrange="-17 17" damping="0.1"/>
            <inertial pos="0.04492 0.01006 -0.03218" quat="0.67582 -0.0441467 0.0483102 0.734156" mass="0.66484" diaginertia="0.00329956 0.00317918 0.000441259"/>
            <geom type="mesh" mesh="l_upper_arm" material="black"/>
            
            <body name="l_lower_arm" pos="0.041 -0.007 -0.2">
              <joint type="hinge" name="l_elbow" pos="0 0 0" axis="0 1 0" range="-1.4 1.4" actuatorfrcrange="-24.09 24.09" damping="0.1"/>
              <inertial pos="0 8e-05 -0.11722" quat="0.707107 0 0 0.707107" mass="0.1578" diaginertia="0.0013 0.00129 2e-05"/>
              <geom type="mesh" mesh="lower_arm" material="black"/>
            </body>
          </body>
        </body>
      </body>


      <body name="r_shoulder1" pos="0 -0.053 0.124">
        
        <joint type="hinge" name="r_shoulder_yaw" pos="0 0 0" axis="0 0 1" range="-1.4 1.4" actuatorfrcrange="-17 17" damping="0.1"/>
        <inertial pos="0.00071 -0.02838 0.04835" quat="0.707107 0 0 0.707107" mass="0.4356" diaginertia="0.00043 0.00035 0.00027"/>

        <geom  type="mesh" mesh="r_shoulder1" material="black"/>
        
        <body name="r_shoulder2" pos="0 -0.049 0.053">
        
          <joint type="hinge" name="r_shoulder_pitch" pos="0 0 0" axis="0 1 0" range="-3.14 1.5708" actuatorfrcrange="-17 17" damping="0.1"/>
          <inertial pos="-0.0294 -0.04541 0.00089" quat="0.705607 0.705607 -0.0460358 -0.0460358" mass="0.432" diaginertia="0.000422621 0.00033 0.000267379"/>
          <geom  type="mesh" mesh="r_shoulder2" material="black"/>
        
          <body name="r_upper_arm" pos="-0.011 -0.0457 0">
            
            <joint type="hinge" name="r_shoulder_roll" pos="0 0 0" axis="-1 0 0" range="-1.4 1.4" actuatorfrcrange="-17 17" damping="0.1"/>
            <inertial pos="0.04492 -0.01006 -0.03218" quat="0.734156 0.0483102 -0.0441467 0.67582" mass="0.66484" diaginertia="0.00329956 0.00317918 0.000441259"/>
            <geom type="mesh"  mesh="r_upper_arm" material="black"/>

            <body name="r_lower_arm" pos="0.041 0.007 -0.2">
              <inertial pos="0 8e-05 -0.11722" quat="0.707107 0 0 0.707107" mass="0.1578" diaginertia="0.0013 0.00129 2e-05"/>
              <joint type="hinge" name="r_elbow" pos="0 0 0" axis="0 1 0" range="-1.4 1.4" actuatorfrcrange="-24.09 24.09" damping="0.1"/>
              <geom  type="mesh" mesh="lower_arm" material="black"/>
            </body>
          
          </body>
        </body>
      </body>

    
  </body>
  </worldbody>


	<equality>
		<weld name="world_root" active="true" body1="torso" relpose="0 0 -0.6 1 0 0 0"/> 
	</equality>


  <actuator>
    <!-- < for hybrid control in code > -->
		<general class="a1_actuator" name="l_hip_yaw" joint="l_hip_yaw"  />
		<general class="a1_actuator" name="l_hip_roll" joint="l_hip_roll"  />
		<general class="a1_actuator" name="l_hip_pitch" joint="l_hip_pitch" />
		<general class="a1_actuator" name="l_knee" joint="l_knee" forcerange="-67.0 67.0"   />
		<general class="a1_actuator" name="l_ankle" joint="l_ankle"  /> 

		<general class="a1_actuator" name="r_hip_yaw" joint="r_hip_yaw"  />
		<general class="a1_actuator" name="r_hip_roll" joint="r_hip_roll" />
		<general class="a1_actuator" name="r_hip_pitch" joint="r_hip_pitch"  />
		<general class="a1_actuator" name="r_knee" joint="r_knee" forcerange="-67.0 67.0"   />
		<general class="a1_actuator" name="r_ankle" joint="r_ankle" /> 

    <general class="robstride_01_actuator" name="l_shoulder_yaw" joint="l_shoulder_yaw"  />
    <general class="robstride_01_actuator" name="l_shoulder_pitch" joint="l_shoulder_pitch" />
    <general class="robstride_01_actuator" name="l_shoulder_roll" joint="l_shoulder_roll" />
    <general class="robstride_01_actuator" name="l_elbow" joint="l_elbow" forcerange="-24.09 24.09"   />

    <general class="robstride_01_actuator" name="r_shoulder_yaw" joint="r_shoulder_yaw"  />
    <general class="robstride_01_actuator" name="r_shoulder_pitch" joint="r_shoulder_pitch" />
    <general class="robstride_01_actuator" name="r_shoulder_roll" joint="r_shoulder_roll" />
    <general class="robstride_01_actuator" name="r_elbow" joint="r_elbow" forcerange="-24.09 24.09"   />

	</actuator>	

  <sensor>
     <framequat name="torso_quat" objtype="site" objname="root"/>
     <framepos name="torso_pos" objtype="site" objname="root"/>
     <framelinvel name="torso_linvel" objtype="site" objname="root"/>

		<accelerometer name="torso_acc" site="root"/>
		<velocimeter name="torso_vel" site="root"/>
		<gyro name="torso_gyr" site="root"/>

		<!-- motor encoders -->
		<actuatorpos name="l_hip_yaw_pos" actuator="l_hip_yaw"/>
		<actuatorpos name="l_hip_roll_pos" actuator="l_hip_roll"/>
		<actuatorpos name="l_hip_pitch_pos" actuator="l_hip_pitch"/>
		<actuatorpos name="l_knee_pos" actuator="l_knee"/>
		<actuatorpos name="l_ankle_pos" actuator="l_ankle"/>

		<actuatorpos name="r_hip_yaw_pos" actuator="r_hip_yaw"/>
		<actuatorpos name="r_hip_roll_pos" actuator="r_hip_roll"/>
		<actuatorpos name="r_hip_pitch_pos" actuator="r_hip_pitch"/>
		<actuatorpos name="r_knee_pos" actuator="r_knee"/>
		<actuatorpos name="r_ankle_pos" actuator="r_ankle"/>

    <actuatorpos name="l_shoulder_yaw_pos" actuator="l_shoulder_yaw"/>
    <actuatorpos name="l_shoulder_pitch_pos" actuator="l_shoulder_pitch"/>
    <actuatorpos name="l_shoulder_roll_pos" actuator="l_shoulder_roll"/>
    <actuatorpos name="l_elbow_pos" actuator="l_elbow"/>

    <actuatorpos name="r_shoulder_yaw_pos" actuator="r_shoulder_yaw"/>
    <actuatorpos name="r_shoulder_pitch_pos" actuator="r_shoulder_pitch"/>
    <actuatorpos name="r_shoulder_roll_pos" actuator="r_shoulder_roll"/>
    <actuatorpos name="r_elbow_pos" actuator="r_elbow"/>

		<actuatorvel name="l_hip_yaw_vel" actuator="l_hip_yaw"/>
		<actuatorvel name="l_hip_roll_vel" actuator="l_hip_roll"/>
		<actuatorvel name="l_hip_pitch_vel" actuator="l_hip_pitch"/>
		<actuatorvel name="l_knee_vel" actuator="l_knee"/>
		<actuatorvel name="l_ankle_vel" actuator="l_ankle"/>

		<actuatorvel name="r_hip_yaw_vel" actuator="r_hip_yaw"/>
		<actuatorvel name="r_hip_roll_vel" actuator="r_hip_roll"/>
		<actuatorvel name="r_hip_pitch_vel" actuator="r_hip_pitch"/>
		<actuatorvel name="r_knee_vel" actuator="r_knee"/>
		<actuatorvel name="r_ankle_vel" actuator="r_ankle"/>

    <actuatorvel name="l_shoulder_yaw_vel" actuator="l_shoulder_yaw"/>
    <actuatorvel name="l_shoulder_pitch_vel" actuator="l_shoulder_pitch"/>
    <actuatorvel name="l_shoulder_roll_vel" actuator="l_shoulder_roll"/>
    <actuatorvel name="l_elbow_vel" actuator="l_elbow"/>

    <actuatorvel name="r_shoulder_yaw_vel" actuator="r_shoulder_yaw"/>
    <actuatorvel name="r_shoulder_pitch_vel" actuator="r_shoulder_pitch"/>
    <actuatorvel name="r_shoulder_roll_vel" actuator="r_shoulder_roll"/>
    <actuatorvel name="r_elbow_vel" actuator="r_elbow"/>

		<actuatorfrc name="l_hip_yaw_frc" actuator="l_hip_yaw"/>
		<actuatorfrc name="l_hip_roll_frc" actuator="l_hip_roll"/>
		<actuatorfrc name="l_hip_pitch_frc" actuator="l_hip_pitch"/>
		<actuatorfrc name="l_knee_frc" actuator="l_knee"/>
		<actuatorfrc name="l_ankle_frc" actuator="l_ankle"/>

		<actuatorfrc name="r_hip_yaw_frc" actuator="r_hip_yaw"/>
		<actuatorfrc name="r_hip_roll_frc" actuator="r_hip_roll"/>
		<actuatorfrc name="r_hip_pitch_frc" actuator="r_hip_pitch"/>
		<actuatorfrc name="r_knee_frc" actuator="r_knee"/>
		<actuatorfrc name="r_ankle_frc" actuator="r_ankle"/>

    <actuatorfrc name="l_shoulder_yaw_frc" actuator="l_shoulder_yaw"/>
    <actuatorfrc name="l_shoulder_pitch_frc" actuator="l_shoulder_pitch"/>
    <actuatorfrc name="l_shoulder_roll_frc" actuator="l_shoulder_roll"/>
    <actuatorfrc name="l_elbow_frc" actuator="l_elbow"/>
  
    <actuatorfrc name="r_shoulder_yaw_frc" actuator="r_shoulder_yaw"/>
    <actuatorfrc name="r_shoulder_pitch_frc" actuator="r_shoulder_pitch"/>
    <actuatorfrc name="r_shoulder_roll_frc" actuator="r_shoulder_roll"/>
    <actuatorfrc name="r_elbow_frc" actuator="r_elbow"/>

  </sensor>

	<contact>
    <exclude body1="torso" body2="l_hip1" />
    <exclude body1="torso" body2="r_hip1" />
		<exclude body1="l_thigh" body2="l_hip1" />
		<exclude body1="r_thigh" body2="r_hip1" />
  		<exclude body1="l_thigh" body2="l_hip2" />
		<exclude body1="r_thigh" body2="r_hip2" />
	</contact> 

    <keyframe>
    <key name="home" qpos="
                              0.00 0.00 0.55 
                              1.00 0.00 0.000   0.00 
                              0.00 0.00 0.785  -1.57 0.785
                              0.00 0.00 0.785  -1.57 0.785
                              0.00 0.785 0.000  -1.57 
                              0.00 0.785 0.000  -1.57
                          "
      />
  </keyframe>

</mujoco>
